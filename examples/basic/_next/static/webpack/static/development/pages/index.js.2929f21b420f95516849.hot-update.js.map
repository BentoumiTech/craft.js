{"version":3,"file":"static/webpack/static/development/pages/index.js.2929f21b420f95516849.hot-update.js","sources":["webpack:///./components/Topbar.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Box, FormControlLabel, Switch, Grid, Button as MaterialButton, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, TextField, Snackbar } from \"@material-ui/core\";\nimport { useEditor } from \"@craftjs/core\";\nimport lz from \"lzutf8\";\nimport copy from 'copy-to-clipboard';\n\nexport const Topbar = ({onLoadState}) => {\n  const { actions, query, enabled } = useEditor((state) => ({\n    enabled: state.options.enabled\n  }));\n\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState();\n\n  const [stateToLoad, setStateToLoad] = useState(null);\n\n  return (\n    <Box px={1} py={1} mt={3} mb={1} bgcolor=\"#cbe8e7\">\n      <Grid container alignItems=\"center\">\n        <Grid item xs>\n          <FormControlLabel\n            control={<Switch checked={enabled} onChange={(_, value) => actions.setOptions(options => options.enabled = value)} />}\n            label=\"Enable\"\n          />\n        </Grid>\n        <Grid item>\n        <MaterialButton \n            className=\"copy-state-btn\"\n            size=\"small\" \n            variant=\"outlined\" \n            color=\"secondary\"\n            onClick={() => {\n              const json = query.serialize();\n              copy(lz.encodeBase64(lz.compress(json)));\n              setSnackbarMessage(\"State copied to clipboard\")\n            }}\n          >\n              Copy current state\n          </MaterialButton>\n          <MaterialButton \n            className=\"load-state-btn\"\n            size=\"small\" \n            variant=\"outlined\" \n            color=\"secondary\"\n            onClick={() => setDialogOpen(true)}\n          >\n              Load\n          </MaterialButton>\n          <Dialog\n            open={dialogOpen}\n            onClose={() => setDialogOpen(false)}\n            fullWidth\n            maxWidth=\"md\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">Load state</DialogTitle>\n            <DialogContent>\n              <TextField \n                multiline \n                fullWidth\n                placeholder='Paste the contents that was copied from the \"Copy Current State\" button'\n                size=\"small\"\n                value={stateToLoad}\n                onChange={e => setStateToLoad(e.target.value)}\n              />\n            </DialogContent>\n            <DialogActions>\n              <MaterialButton onClick={() => setDialogOpen(false)} color=\"primary\">\n                Cancel\n              </MaterialButton>\n              <MaterialButton \n                onClick={() => {\n                  setDialogOpen(false);\n                  const json = lz.decompress(lz.decodeBase64(stateToLoad));\n                  onLoadState(json);\n                  setSnackbarMessage(\"State loaded\")\n                }} \n                color=\"primary\" \n                autoFocus\n              >\n                Load\n              </MaterialButton>\n            </DialogActions>\n          </Dialog>\n          <Snackbar\n            autoHideDuration={1000}\n            anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n            open={!!snackbarMessage}\n            onClose={() => setSnackbarMessage(null)}\n            message={<span>{snackbarMessage}</span>}\n          />\n        </Grid>\n      </Grid>\n    </Box>\n  )\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AADA;AACA;AACA;AADA;AAAA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;A","sourceRoot":""}