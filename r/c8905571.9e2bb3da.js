(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{107:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return p}));var a=t(1),r=t(6),o=(t(0),t(116)),i={id:"nodes",title:"Nodes"},c={id:"concepts/nodes",title:"Nodes",description:"## User Elements",source:"@site/docs/concepts/nodes.md",permalink:"/craft.js/r/docs/concepts/nodes",sidebar:"docs",previous:{title:"Acknowledgements",permalink:"/craft.js/r/docs/acknowledgements"},next:{title:"User components",permalink:"/craft.js/r/docs/concepts/user-components"}},s=[{value:"User Elements",id:"user-elements",children:[]},{value:"Node",id:"node",children:[]},{value:"Canvas",id:"canvas",children:[]},{value:"How Nodes are created",id:"how-nodes-are-created",children:[]}],l={rightToc:s},d="wrapper";function p(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)(d,Object(a.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"user-elements"},"User Elements"),Object(o.b)("p",null,"User Elements are React Elements which the end user will have the ability to manipulate. In other words, these are the elements which you will want your users to edit, drag and/or drop in your editor.  "),Object(o.b)("p",null,"Just like React Elements, these can be either simple HTML tags or React Components. We'll refer to User Elements which are React Components simply as ",Object(o.b)("em",{parentName:"p"},"User Components"),"."),Object(o.b)("h2",{id:"node"},"Node"),Object(o.b)("p",null,"Craft.js maintains an internal state comprised of objects called Nodes which represent and manage User Elements that are rendered in the editor. These Nodes contain information such as the element type, current props, DOM element, parent Node and so on. Hence, every User Element is rendered and managed by their corresponding Node."),Object(o.b)("h2",{id:"canvas"},"Canvas"),Object(o.b)("p",null,"A Canvas is a special type of Node which is able to store child Nodes. The child Node's User Element will be made draggable."),Object(o.b)("p",null,"Essentially, if a User Element is managed by a Canvas node, that would effectively turn that component into a droppable region where users can drag and drop components into and out of."),Object(o.b)("p",null,"In a nutshell:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A Canvas node defines a droppable region"),Object(o.b)("li",{parentName:"ul"},"A Node that is a child of a Canvas is draggable"),Object(o.b)("li",{parentName:"ul"},"A Canvas node itself is not draggable unless it is a child Node of parent Canvas. ")),Object(o.b)("h2",{id:"how-nodes-are-created"},"How Nodes are created"),Object(o.b)("p",null,"We know what Nodes are and that every User Component must be represented by a ",Object(o.b)("inlineCode",{parentName:"p"},"Node"),", but how do we actually represent our React elements as Nodes ? "),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"<Canvas />")," is a React component provided by Craft.js which automatically creates a Canvas node and a Node for each of its immediate child. "),Object(o.b)("p",null,"Let's say we want to create a droppable region, ",Object(o.b)("inlineCode",{parentName:"p"},"div")," with its immediate children being made draggable:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),'<Canvas is="div"> // A Canvas node with the type div;\n  <h1>Hi</h1> // Node of the type h1; draggable! \n  <MyComp>Hey</MyComp> //  Node of the type MyComp; draggable! \n</Canvas>\n')),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"The ",Object(o.b)("inlineCode",{parentName:"p"},"is")," prop specifies the type of User Element to create; it can be either a HTML tag or a User Component")),Object(o.b)("p",null,"In the above example, using the ",Object(o.b)("inlineCode",{parentName:"p"},"<Canvas />")," component, we've created a Canvas node of the type ",Object(o.b)("inlineCode",{parentName:"p"},"div")," and additionally created subsequent child Nodes of the type ",Object(o.b)("inlineCode",{parentName:"p"},"h1")," and ",Object(o.b)("inlineCode",{parentName:"p"},"MyComp"),". "),Object(o.b)("p",null,"Since our ",Object(o.b)("inlineCode",{parentName:"p"},"div")," element is now handled by a Canvas node, therefore it is now a droppable region. On the other hand, since ",Object(o.b)("inlineCode",{parentName:"p"},"h1")," and ",Object(o.b)("inlineCode",{parentName:"p"},"MyComp")," are child Nodes of a Canvas, they are now draggable. "),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"The ",Object(o.b)("inlineCode",{parentName:"p"},"<Canvas />")," component only represents its immediate children as Nodes. Hence any subsequent grandchild components are not a ",Object(o.b)("inlineCode",{parentName:"p"},"Node")," and will not be draggable.")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),'<Canvas is="div"> // A Canvas node with the type div, I am not draggable btw.\n  <div> // Node of the type div; draggable\n    <h3>Hi</h3> // NOT A NODE, so I am not draggable :(\n  </div>\n  <Canvas is="p"> // Canvas Node of the type p; droppable and draggable!\n    <h2>Hi</h2> // Node of the type h2; draggable! \n  </Canvas>\n</Canvas>\n')),Object(o.b)("p",null,"Let's look at another example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx",metastring:"{2,7}","{2,7}":!0}),"<Canvas is={Container}>\n  <h1>Hi</h2>\n</Canvas>\n\nconst Container = ({children}) => \n  <section>\n    {children}\n  </section>\n")),Object(o.b)("p",null,"Here, we have created a Canvas node of the type ",Object(o.b)("inlineCode",{parentName:"p"},"Container")," which is a User Component. Our ",Object(o.b)("inlineCode",{parentName:"p"},"Container")," element is now managed by a Canvas node, thus is now a droppable region; all items dropped in its location will be rendered in its ",Object(o.b)("inlineCode",{parentName:"p"},"children")," prop."))}p.isMDXComponent=!0},116:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return h}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),d=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},p=function(e){var n=d(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},b="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},u=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=d(t),b=a,u=p["".concat(i,".").concat(b)]||p[b]||m[b]||o;return t?r.a.createElement(u,c({ref:n},l,{components:t})):r.a.createElement(u,c({ref:n},l))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=u;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c[b]="string"==typeof e?e:a,i[1]=c;for(var l=2;l<o;l++)i[l]=t[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);